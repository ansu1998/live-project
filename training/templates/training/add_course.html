{% extends 'training/base.html' %}

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
{% block content %}
<div class="single-pro-review-area mt-t-30 mg-b-15">
    <div class="container-fluid">
        <div class="row">

            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

                <div class="product-payment-inner-st">
                    <ul id="myTabedu1" class="tab-review-design">
                        <li class="active"><a href="#description">Courses Details</a></li>
                    </ul>
                    <div id="myTabContent" class="tab-content custom-product-edit">

                        <div class="product-tab-list tab-pane fade active in" id="description">
                            <div class="row">
                                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                    <div class="review-content-section">
                                        <div id="dropzone1" class="pro-ad addcoursepro">
                                            <form action="{% url 'training:add_course' %}"  method = "POST" class="dropzone dropzone-custom needsclick addcourse" id="demo1-upload" onsubmit="getAllValues()">

                                                {% csrf_token%}
                                                <div class="row">
                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="form-group">
                                                            <input name="cname" type="text" class="form-control" placeholder="Course Name" required oninvalid="this.setCustomValidity('Please fill the field')">
                                                        </div>

                                                        <div class="form-group">
                                                            <input name="duration" type="number" class="form-control" placeholder="Course Duration in months. eg:- 5 " required >
                                                        </div>

                                                        <div class="form-group">
                                                            <input type="radio" value="True" name="status" checked > Active
                                                            <input type="radio" value="False" name="status"> Inactive
                                                        </div>



                                                        <div class="row form-group">
                                                            <div class="col form-group">
                                                                <label  class=" form-control-label" style="margin-top: 19pt;">Add Topics</label>
                                                            </div>
                                                            <div class="form-group">
                                                                <input type="text" id="topstr" , hidden name="topstr">
                                                                <input type="text" placeholder="Enter topic" id="topic" ,
                                                                       name="topic" style="width: 94%;height: 40px !important;">
                                                                <button type="button" class="btn btn-outline-danger" id="rowAdder">
                                                                    <span class="glyphicon glyphicon-plus"></span>
                                                                </button>
                                                            </div>

                                                            <!-- <div class="form-group">
                                                                 <input type="text" placeholder="Enter topic" id="topi">
                                                                 <button type="button" class="btn btn-outline-danger" id="DeleteRow">
                                                                     <span class="glyphicon glyphicon-minus" ></span>
                                                                 </button>
                                                             </div> -->

                                                            <div id="newinput"></div>

                                                        </div>

                                                    </div>



                                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
                                                        <div class="form-group">
                                                            <textarea name="disc" placeholder="Description" ></textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br><br>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="payment-adress">
                                                            <button type="submit" class="btn btn-primary waves-effect waves-light" onsubmit="getAllValues()">Submit</button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <br><br><br>

                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>


<script type="text/javascript">
            console.log('********************')
            $("#rowAdder").click(function () {
                newRowAdd =
                    '<div class="form-group" id="row">' +
                    '<input  placeholder="Enter topic"  type="text" style="width: 94%;height: 40px !important;"">' +
                    '<button class="btn btn-outline-danger" id="DeleteRow" type="button"><span class="glyphicon glyphicon-minus"></span></button> </div>';
                $('#newinput').append(newRowAdd);
            });
            $("body").on("click", "#DeleteRow", function () {
                $(this).parents("#row").remove();
            })


            function getAllValues() {
                var allVal = $("#topic").val();

                $("#row > input").each(function () {
                    allVal += ','+$(this).val();
                });



                document.getElementById('topstr').value = allVal
                console.log(allVal);

                console.log("@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@")
            }

        </script>




{% endblock content %}